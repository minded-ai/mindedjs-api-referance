<!DOCTYPE html><html class="default" lang="en" data-base="../"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Agent | @minded-ai/mindedjs</title><meta name="description" content="Documentation for @minded-ai/mindedjs"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="../index.html" class="title">@minded-ai/mindedjs</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="../modules/index.html">index</a></li><li><a href="" aria-current="page">Agent</a></li></ul><h1>Class Agent</h1></div><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><p>The main Agent class that orchestrates flows, tools, and integrations with the Minded platform.</p>
</div><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example">Example<a href="#example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">agent</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">Agent</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">memorySchema:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-3">object</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">userName:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-3">string</span><span class="hl-1">().</span><span class="hl-3">optional</span><span class="hl-1">(),</span><br/><span class="hl-1">    </span><span class="hl-4">preferences:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-3">record</span><span class="hl-1">(</span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-3">any</span><span class="hl-1">()).</span><span class="hl-3">optional</span><span class="hl-1">()</span><br/><span class="hl-1">  }),</span><br/><span class="hl-1">  </span><span class="hl-4">config:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">flows:</span><span class="hl-1"> [</span><span class="hl-5">&#39;./src/flows&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">    </span><span class="hl-4">llm:</span><span class="hl-1"> { </span><span class="hl-4">provider:</span><span class="hl-1"> </span><span class="hl-5">&#39;openai&#39;</span><span class="hl-1">, </span><span class="hl-4">model:</span><span class="hl-1"> </span><span class="hl-5">&#39;gpt-4&#39;</span><span class="hl-1"> }</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-4">tools:</span><span class="hl-1"> [</span><span class="hl-4">myCustomTool</span><span class="hl-1">]</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

</div></div></section><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/minded-ai/mindedjs/blob/be941b6a386be88ef140b633bb20626ff36a6aa0/src/agent.ts#L66">agent.ts:66</a></li></ul></aside><section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><details class="tsd-index-content tsd-accordion" open><summary class="tsd-accordion-summary tsd-index-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h5 class="tsd-index-heading uppercase">Index</h5></summary><div class="tsd-accordion-details"><section class="tsd-index-section"><h3 class="tsd-index-heading">Constructors</h3><div class="tsd-index-list"><a href="#constructor" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Constructor"><use href="../assets/icons.svg#icon-512"></use></svg><span>constructor</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Properties</h3><div class="tsd-index-list"><a href="#compiledgraph" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>compiled<wbr/>Graph</span></a>
<a href="#config" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>config</span></a>
<a href="#llm" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>llm</span></a>
<a href="#mindedconnection" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>minded<wbr/>Connection</span></a>
<a href="#playbooks" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>playbooks</span></a>
<a href="#tools" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>tools</span></a>
<a href="#voicesessions" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>voice<wbr/>Sessions</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Accessors</h3><div class="tsd-index-list"><a href="#piigateway" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>pii<wbr/>Gateway</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Methods</h3><div class="tsd-index-list"><a href="#getlangraphconfig" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Langraph<wbr/>Config</span></a>
<a href="#invoke" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>invoke</span></a>
<a href="#on" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>on</span></a>
<a href="#startvoicesession" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>start<wbr/>Voice<wbr/>Session</span></a>
</div></section></div></details></section></section><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Constructors"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Constructors</h2></summary><section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="constructor"><span>constructor</span><a href="#constructor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="constructoragent"><span class="tsd-signature-keyword">new</span> <span class="tsd-kind-constructor-signature">Agent</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">params</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">CreateAgentParams</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="" class="tsd-signature-type tsd-kind-class">Agent</a><a href="#constructoragent" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Create a new Agent instance.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">params</span>: <span class="tsd-signature-type">CreateAgentParams</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></span><div class="tsd-comment tsd-typography"><p>Configuration parameters for the agent</p>
</div><div class="tsd-comment tsd-typography"></div><ul class="tsd-parameters"><li class="tsd-parameter"><h5><span>memorySchema</span></h5><div class="tsd-comment tsd-typography"><p>Zod schema defining the structure of the agent's memory</p>
</div></li><li class="tsd-parameter"><h5><span>config</span></h5><div class="tsd-comment tsd-typography"><p>SDK configuration including flows directory and LLM settings</p>
</div></li><li class="tsd-parameter"><h5><span>tools</span></h5><div class="tsd-comment tsd-typography"><p>Array of custom tools to be available to the agent</p>
</div></li><li class="tsd-parameter"><h5><span>platformToken</span></h5><div class="tsd-comment tsd-typography"><p>Optional token for platform authentication</p>
</div></li><li class="tsd-parameter"><h5><span>memorySaver</span></h5><div class="tsd-comment tsd-typography"><p>Optional custom checkpoint saver for conversation memory</p>
</div></li></ul></li></ul></div><h4 class="tsd-returns-title">Returns <a href="" class="tsd-signature-type tsd-kind-class">Agent</a></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-1">Example<a href="#example-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">agent</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">Agent</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">memorySchema:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-3">object</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">userName:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-3">string</span><span class="hl-1">().</span><span class="hl-3">optional</span><span class="hl-1">(),</span><br/><span class="hl-1">    </span><span class="hl-4">conversationHistory:</span><span class="hl-1"> </span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-3">array</span><span class="hl-1">(</span><span class="hl-4">z</span><span class="hl-1">.</span><span class="hl-3">string</span><span class="hl-1">()).</span><span class="hl-3">optional</span><span class="hl-1">()</span><br/><span class="hl-1">  }),</span><br/><span class="hl-1">  </span><span class="hl-4">config:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">flows:</span><span class="hl-1"> [</span><span class="hl-5">&#39;./src/flows&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">    </span><span class="hl-4">llm:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">provider:</span><span class="hl-1"> </span><span class="hl-5">&#39;openai&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-4">model:</span><span class="hl-1"> </span><span class="hl-5">&#39;gpt-4-turbo&#39;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-4">tools:</span><span class="hl-1"> [</span><br/><span class="hl-1">    </span><span class="hl-4">weatherTool</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">databaseTool</span><br/><span class="hl-1">  ]</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/minded-ai/mindedjs/blob/be941b6a386be88ef140b633bb20626ff36a6aa0/src/agent.ts#L135">agent.ts:135</a></li></ul></aside></div></li></ul></section></section></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Properties"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Properties</h2></summary><section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="compiledgraph"><span>compiled<wbr/>Graph</span><a href="#compiledgraph" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">compiledGraph</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">CompiledGraph</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/minded-ai/mindedjs/blob/be941b6a386be88ef140b633bb20626ff36a6aa0/src/agent.ts#L75">agent.ts:75</a></li></ul></aside></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="config"><span>config</span><a href="#config" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">config</span><span class="tsd-signature-symbol">:</span> <a href="../types/index.MindedSDKConfig.html" class="tsd-signature-type tsd-kind-type-alias">MindedSDKConfig</a></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/minded-ai/mindedjs/blob/be941b6a386be88ef140b633bb20626ff36a6aa0/src/agent.ts#L78">agent.ts:78</a></li></ul></aside></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="llm"><span>llm</span><a href="#llm" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">llm</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">BaseLanguageModel</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/minded-ai/mindedjs/blob/be941b6a386be88ef140b633bb20626ff36a6aa0/src/agent.ts#L70">agent.ts:70</a></li></ul></aside></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="mindedconnection"><span>minded<wbr/>Connection</span><a href="#mindedconnection" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">mindedConnection</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">MindedConnection</span><span class="tsd-signature-symbol"> = null</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/minded-ai/mindedjs/blob/be941b6a386be88ef140b633bb20626ff36a6aa0/src/agent.ts#L71">agent.ts:71</a></li></ul></aside></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="playbooks"><span>playbooks</span><a href="#playbooks" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">playbooks</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Playbook</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> = []</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/minded-ai/mindedjs/blob/be941b6a386be88ef140b633bb20626ff36a6aa0/src/agent.ts#L82">agent.ts:82</a></li></ul></aside></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="tools"><span>tools</span><a href="#tools" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">tools</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/index.Tool.html" class="tsd-signature-type tsd-kind-interface">Tool</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/minded-ai/mindedjs/blob/be941b6a386be88ef140b633bb20626ff36a6aa0/src/agent.ts#L69">agent.ts:69</a></li></ul></aside></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="voicesessions"><span>voice<wbr/>Sessions</span><a href="#voicesessions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">voiceSessions</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Map</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-signature-type">VoiceSession</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> = ...</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/minded-ai/mindedjs/blob/be941b6a386be88ef140b633bb20626ff36a6aa0/src/agent.ts#L102">agent.ts:102</a></li></ul></aside></section></section></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Accessors"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Accessors</h2></summary><section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="piigateway"><span>pii<wbr/>Gateway</span><a href="#piigateway" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li><div class="tsd-signature" id="piigatewaypiigateway"><span class="tsd-signature-keyword">get</span> <span class="tsd-kind-get-signature">piiGateway</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/index.PIIGatewayInstance.html" class="tsd-signature-type tsd-kind-interface">PIIGatewayInstance</a></div><div class="tsd-description"><h4 class="tsd-returns-title">Returns <a href="../interfaces/index.PIIGatewayInstance.html" class="tsd-signature-type tsd-kind-interface">PIIGatewayInstance</a></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/minded-ai/mindedjs/blob/be941b6a386be88ef140b633bb20626ff36a6aa0/src/agent.ts#L85">agent.ts:85</a></li></ul></aside></div></li></ul></section></section></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Methods"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h2>Methods</h2></summary><section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="getlangraphconfig"><span>get<wbr/>Langraph<wbr/>Config</span><a href="#getlangraphconfig" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="getlangraphconfig-1"><span class="tsd-kind-call-signature">getLangraphConfig</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">sessionId</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">configurable</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">recursionLimit</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">;</span> <span class="tsd-kind-property">thread_id</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span> <span class="tsd-signature-symbol">}</span> <span class="tsd-signature-symbol">}</span><a href="#getlangraphconfig-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">sessionId</span>: <span class="tsd-signature-type">string</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">configurable</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">recursionLimit</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">;</span> <span class="tsd-kind-property">thread_id</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span> <span class="tsd-signature-symbol">}</span> <span class="tsd-signature-symbol">}</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/minded-ai/mindedjs/blob/be941b6a386be88ef140b633bb20626ff36a6aa0/src/agent.ts#L748">agent.ts:748</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="invoke"><span>invoke</span><a href="#invoke" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="invoke-1"><span class="tsd-kind-call-signature">invoke</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">params</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/index.AgentInvokeParams.html" class="tsd-signature-type tsd-kind-interface">AgentInvokeParams</a><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">undefined</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">StateType</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">StateDefinition</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><a href="#invoke-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Invoke a trigger to start agent execution with the specified parameters.</p>
<p>This method processes triggers from external systems or applications, allowing the agent
to respond to events and execute the appropriate flows based on the trigger type.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">params</span>: <a href="../interfaces/index.AgentInvokeParams.html" class="tsd-signature-type tsd-kind-interface">AgentInvokeParams</a></span><div class="tsd-comment tsd-typography"><p>The trigger invocation parameters</p>
</div><div class="tsd-comment tsd-typography"></div><div class="tsd-comment tsd-typography"><p>Parameters for the Agent invoke method</p>
</div><ul class="tsd-parameters"><li class="tsd-parameter"><h5 id="appname"><code class="tsd-tag">Optional</code><span class="tsd-kind-property">appName</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><p>Optional name of the application triggering the agent in case of an app trigger</p>
</div><div class="tsd-comment tsd-typography"></div></li><li class="tsd-parameter"><h5 id="sessionid"><code class="tsd-tag">Optional</code><span class="tsd-kind-property">sessionId</span><span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><p>Optional session identifier for conversation continuity</p>
</div><div class="tsd-comment tsd-typography"></div></li><li class="tsd-parameter"><h5 id="triggerbody"><span class="tsd-kind-property">triggerBody</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span></h5><div class="tsd-comment tsd-typography"><p>The payload/data associated with the trigger</p>
</div><div class="tsd-comment tsd-typography"></div></li><li class="tsd-parameter"><h5 id="triggername"><span class="tsd-kind-property">triggerName</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><p>The name/type of the trigger being invoked</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">undefined</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">StateType</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">StateDefinition</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4><p>Promise that resolves with the agent's execution result</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-throws"><h4 class="tsd-anchor-link" id="throws">Throws<a href="#throws" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>When the agent is not properly initialized</p>
</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-2">Example<a href="#example-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-6">// Manual invoke with a message trigger</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">result</span><span class="hl-1"> = </span><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-4">agent</span><span class="hl-1">.</span><span class="hl-3">invoke</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">triggerName:</span><span class="hl-1"> </span><span class="hl-5">&#39;minded.message.in.conversation&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">triggerBody:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">text:</span><span class="hl-1"> </span><span class="hl-5">&#39;Hello, how can you help me?&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-4">sessionId:</span><span class="hl-1"> </span><span class="hl-5">&#39;user-123-session&#39;</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/minded-ai/mindedjs/blob/be941b6a386be88ef140b633bb20626ff36a6aa0/src/agent.ts#L404">agent.ts:404</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="on"><span>on</span><a href="#on" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="on-1"><span class="tsd-kind-call-signature">on</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="#one">E</a> <span class="tsd-signature-keyword">extends</span> <span class="tsd-signature-keyword">keyof</span> <span class="tsd-signature-type">AgentEventRequestPayloads</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">event</span><span class="tsd-signature-symbol">:</span> <a class="tsd-signature-type tsd-kind-type-parameter" href="#one">E</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">handler</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><br/>        <span class="tsd-kind-parameter">payload</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">AgentEventRequestPayloads</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[</span><a class="tsd-signature-type tsd-kind-type-parameter" href="#one">E</a><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-signature-symbol">)</span> <span class="tsd-signature-symbol">=&gt;</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">AgentEventResponsePayloads</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[</span><a class="tsd-signature-type tsd-kind-type-parameter" href="#one">E</a><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="#on-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-comment tsd-typography"><p>Register an event handler for specific agent events.</p>
<p>This method allows you to listen for and respond to various events that occur during
agent execution, such as trigger events, memory updates, or custom application events.
Multiple handlers can be registered for the same event type and will be executed in the order they are registered.</p>
<h2 id="available-event-types" class="tsd-anchor-link">Available Event Types<a href="#available-event-types" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="init" class="tsd-anchor-link">INIT<a href="#init" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Emitted when the agent's graph state is initialized. This happens when a new session begins
or when the agent starts processing a new conversation context.</p>
<p><strong>Input Structure:</strong></p>
<pre><code class="typescript"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-8">state</span><span class="hl-1">: {                           </span><span class="hl-6">// Full initial agent state</span><br/><span class="hl-1">    </span><span class="hl-8">messages</span><span class="hl-1">: </span><span class="hl-4">BaseMessage</span><span class="hl-1">[];         </span><span class="hl-6">// Empty array - no messages yet</span><br/><span class="hl-1">    </span><span class="hl-8">memory</span><span class="hl-1">: </span><span class="hl-4">Memory</span><span class="hl-1">;                  </span><span class="hl-6">// Initial memory state (from your schema defaults)</span><br/><span class="hl-1">    </span><span class="hl-8">triggerInvocations</span><span class="hl-1">: </span><span class="hl-4">Array</span><span class="hl-1">&lt;...&gt;;  </span><span class="hl-6">// Empty array - no triggers invoked yet</span><br/><span class="hl-1">    </span><span class="hl-8">triggerMetadata</span><span class="hl-1">: </span><span class="hl-0">null</span><span class="hl-1">;           </span><span class="hl-6">// No trigger metadata initially</span><br/><span class="hl-1">    </span><span class="hl-8">history</span><span class="hl-1">: </span><span class="hl-4">HistoryStep</span><span class="hl-1">[];          </span><span class="hl-6">// Empty array - no flow history yet</span><br/><span class="hl-1">    </span><span class="hl-8">sessionId</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">;               </span><span class="hl-6">// Session identifier (generated or provided)</span><br/><span class="hl-1">    </span><span class="hl-8">sessionType</span><span class="hl-1">: </span><span class="hl-4">SessionType</span><span class="hl-1">;        </span><span class="hl-6">// Type of session (TEXT, VOICE, etc.)</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Expected Output:</strong> <code>void</code> - Handlers are used for side effects like logging, setup, or initialization tasks</p>
<p><strong>Common Use Cases:</strong></p>
<ul>
<li>Session logging and analytics tracking</li>
<li>Resource initialization for new sessions</li>
<li>State validation and verification</li>
<li>External service setup and configuration</li>
<li>Session routing and management</li>
<li>Debugging and troubleshooting</li>
</ul>
<h3 id="ai_message" class="tsd-anchor-link">AI_MESSAGE<a href="#ai_message" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Emitted when an AI generates a message that should be sent to the user.</p>
<p><strong>Input Structure:</strong></p>
<pre><code class="typescript"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-8">message</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">;     </span><span class="hl-6">// The AI-generated message content</span><br/><span class="hl-1">  </span><span class="hl-8">state</span><span class="hl-1">: {             </span><span class="hl-6">// Full agent state</span><br/><span class="hl-1">    </span><span class="hl-8">messages</span><span class="hl-1">: </span><span class="hl-4">BaseMessage</span><span class="hl-1">[];           </span><span class="hl-6">// Conversation messages</span><br/><span class="hl-1">    </span><span class="hl-8">memory</span><span class="hl-1">: </span><span class="hl-4">Memory</span><span class="hl-1">;                    </span><span class="hl-6">// Current memory state (your defined memory schema)</span><br/><span class="hl-1">    </span><span class="hl-8">triggerInvocations</span><span class="hl-1">: </span><span class="hl-4">Array</span><span class="hl-1">&lt;...&gt;;    </span><span class="hl-6">// Trigger invocation history</span><br/><span class="hl-1">    </span><span class="hl-8">triggerMetadata</span><span class="hl-1">: {...} | </span><span class="hl-0">null</span><span class="hl-1">;     </span><span class="hl-6">// Current trigger metadata</span><br/><span class="hl-1">    </span><span class="hl-8">history</span><span class="hl-1">: </span><span class="hl-4">HistoryStep</span><span class="hl-1">[];            </span><span class="hl-6">// Flow execution history with detailed step information</span><br/><span class="hl-1">    </span><span class="hl-8">sessionId</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">;                 </span><span class="hl-6">// Session identifier</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Expected Output:</strong> <code>void</code> - Handlers are used for side effects like sending messages to UI</p>
<p><strong>Common Use Cases:</strong></p>
<ul>
<li>Real-time chat UI updates with session context</li>
<li>Logging AI responses for analytics or debugging</li>
<li>Message formatting and transformation</li>
<li>Notifications and alerts based on AI responses</li>
<li>Session-based message routing</li>
</ul>
<h3 id="trigger_event" class="tsd-anchor-link">TRIGGER_EVENT<a href="#trigger_event" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Emitted when a trigger node is executed. Allows you to qualify, transform, and provide
initial state for trigger inputs before they're processed by the agent.</p>
<p><strong>Input Structure:</strong></p>
<pre><code class="typescript"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-8">triggerName</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">;  </span><span class="hl-6">// Name of the trigger being executed</span><br/><span class="hl-1">  </span><span class="hl-8">triggerBody</span><span class="hl-1">: </span><span class="hl-4">any</span><span class="hl-1">;     </span><span class="hl-6">// The trigger input data (type varies by trigger)</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p><strong>Expected Output:</strong> One of three possible return types:</p>
<ol>
<li><strong>Provide Initial State:</strong></li>
</ol>
<pre><code class="typescript"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-4">messages</span><span class="hl-1">?: </span><span class="hl-4">BaseMessage</span><span class="hl-1">[];  </span><span class="hl-6">// Initial messages for the conversation</span><br/><span class="hl-1">  </span><span class="hl-4">memory</span><span class="hl-1">?: </span><span class="hl-4">Memory</span><span class="hl-1">;          </span><span class="hl-6">// Initial memory state</span><br/><span class="hl-1">  </span><span class="hl-4">sessionId</span><span class="hl-1">?: </span><span class="hl-4">string</span><span class="hl-1">;       </span><span class="hl-6">// Session ID for persistence (resumes existing sessions)</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<ol start="2">
<li><strong>Disqualify the Trigger:</strong></li>
</ol>
<pre><code class="typescript"><span class="hl-0">false</span><span class="hl-1">  </span><span class="hl-6">// Rejects/disqualifies the trigger from processing</span>
</code><button type="button">Copy</button></pre>

<ol start="3">
<li><strong>Qualify without Initial State:</strong></li>
</ol>
<pre><code class="typescript"><span class="hl-0">void</span><span class="hl-1">  </span><span class="hl-6">// Qualifies the trigger but provides no initial state</span>
</code><button type="button">Copy</button></pre>

<p><strong>Common Use Cases:</strong></p>
<ul>
<li>Input validation and trigger qualification</li>
<li>Data transformation into standardized formats</li>
<li>Context setting with initial memory state</li>
<li>Access control and business rule enforcement</li>
<li>Routing logic for different trigger types</li>
</ul>
</div><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span id="one"><span class="tsd-kind-type-parameter">E</span> <span class="tsd-signature-keyword">extends</span> <span class="tsd-signature-keyword">keyof</span> <span class="tsd-signature-type">AgentEventRequestPayloads</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></span><div class="tsd-comment tsd-typography"><p>The event type, constrained to known agent event types</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">event</span>: <a class="tsd-signature-type tsd-kind-type-parameter" href="#one">E</a></span><div class="tsd-comment tsd-typography"><p>The name of the event to listen for</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">handler</span>: <span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">payload</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">AgentEventRequestPayloads</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[</span><a class="tsd-signature-type tsd-kind-type-parameter" href="#one">E</a><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span> <span class="tsd-signature-symbol">=&gt;</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">AgentEventResponsePayloads</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[</span><a class="tsd-signature-type tsd-kind-type-parameter" href="#one">E</a><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol">&gt;</span></span><div class="tsd-comment tsd-typography"><p>The function to call when the event is emitted</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-3">Example<a href="#example-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-6">// INIT Event Handler</span><br/><span class="hl-4">agent</span><span class="hl-1">.</span><span class="hl-3">on</span><span class="hl-1">(</span><span class="hl-5">&#39;INIT&#39;</span><span class="hl-1">, </span><span class="hl-0">async</span><span class="hl-1"> ({ </span><span class="hl-4">state</span><span class="hl-1"> }) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">logger</span><span class="hl-1">.</span><span class="hl-3">info</span><span class="hl-1">({ </span><span class="hl-4">msg:</span><span class="hl-1"> </span><span class="hl-5">&#39;Agent initialized for session:&#39;</span><span class="hl-1">, </span><span class="hl-4">sessionId:</span><span class="hl-1"> </span><span class="hl-4">state</span><span class="hl-1">.</span><span class="hl-4">sessionId</span><span class="hl-1"> });</span><br/><span class="hl-1">  </span><span class="hl-4">logger</span><span class="hl-1">.</span><span class="hl-3">info</span><span class="hl-1">({ </span><span class="hl-4">msg:</span><span class="hl-1"> </span><span class="hl-5">&#39;Session type:&#39;</span><span class="hl-1">, </span><span class="hl-4">sessionType:</span><span class="hl-1"> </span><span class="hl-4">state</span><span class="hl-1">.</span><span class="hl-4">sessionType</span><span class="hl-1"> });</span><br/><span class="hl-1">  </span><span class="hl-4">logger</span><span class="hl-1">.</span><span class="hl-3">info</span><span class="hl-1">({ </span><span class="hl-4">msg:</span><span class="hl-1"> </span><span class="hl-5">&#39;Initial memory:&#39;</span><span class="hl-1">, </span><span class="hl-4">memory:</span><span class="hl-1"> </span><span class="hl-4">state</span><span class="hl-1">.</span><span class="hl-4">memory</span><span class="hl-1"> });</span><br/><br/><span class="hl-1">  </span><span class="hl-6">// Setup session-specific resources</span><br/><span class="hl-1">  </span><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-3">initializeSessionResources</span><span class="hl-1">(</span><span class="hl-4">state</span><span class="hl-1">.</span><span class="hl-4">sessionId</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-6">// Log session start for analytics</span><br/><span class="hl-1">  </span><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-3">logSessionStart</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">sessionId:</span><span class="hl-1"> </span><span class="hl-4">state</span><span class="hl-1">.</span><span class="hl-4">sessionId</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">sessionType:</span><span class="hl-1"> </span><span class="hl-4">state</span><span class="hl-1">.</span><span class="hl-4">sessionType</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">timestamp:</span><span class="hl-1"> </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">Date</span><span class="hl-1">(),</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">// AI_MESSAGE Event Handler</span><br/><span class="hl-4">agent</span><span class="hl-1">.</span><span class="hl-3">on</span><span class="hl-1">(</span><span class="hl-5">&#39;AI_MESSAGE&#39;</span><span class="hl-1">, </span><span class="hl-0">async</span><span class="hl-1"> ({ </span><span class="hl-4">message</span><span class="hl-1">, </span><span class="hl-4">state</span><span class="hl-1"> }) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">logger</span><span class="hl-1">.</span><span class="hl-3">info</span><span class="hl-1">({ </span><span class="hl-4">msg:</span><span class="hl-1"> </span><span class="hl-5">&#39;AI said:&#39;</span><span class="hl-1">, </span><span class="hl-4">output:</span><span class="hl-1"> </span><span class="hl-4">message</span><span class="hl-1"> });</span><br/><span class="hl-1">  </span><span class="hl-4">logger</span><span class="hl-1">.</span><span class="hl-3">info</span><span class="hl-1">({ </span><span class="hl-4">msg:</span><span class="hl-1"> </span><span class="hl-5">&#39;Current memory:&#39;</span><span class="hl-1">, </span><span class="hl-4">output:</span><span class="hl-1"> </span><span class="hl-4">state</span><span class="hl-1">.</span><span class="hl-4">memory</span><span class="hl-1"> });</span><br/><span class="hl-1">  </span><span class="hl-4">logger</span><span class="hl-1">.</span><span class="hl-3">info</span><span class="hl-1">({ </span><span class="hl-4">msg:</span><span class="hl-1"> </span><span class="hl-5">&#39;Session ID:&#39;</span><span class="hl-1">, </span><span class="hl-4">output:</span><span class="hl-1"> </span><span class="hl-4">state</span><span class="hl-1">.</span><span class="hl-4">sessionId</span><span class="hl-1"> });</span><br/><br/><span class="hl-1">  </span><span class="hl-6">// Send to user interface with session context</span><br/><span class="hl-1">  </span><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-3">sendMessageToUser</span><span class="hl-1">(</span><span class="hl-4">message</span><span class="hl-1">, </span><span class="hl-4">state</span><span class="hl-1">.</span><span class="hl-4">sessionId</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-6">// Send via WebSocket</span><br/><span class="hl-1">  </span><span class="hl-7">await</span><span class="hl-1"> </span><span class="hl-4">websocket</span><span class="hl-1">.</span><span class="hl-3">send</span><span class="hl-1">(</span><span class="hl-2">JSON</span><span class="hl-1">.</span><span class="hl-3">stringify</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-5">&#39;ai_message&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">content:</span><span class="hl-1"> </span><span class="hl-4">message</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">sessionId:</span><span class="hl-1"> </span><span class="hl-4">state</span><span class="hl-1">.</span><span class="hl-4">sessionId</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">memory:</span><span class="hl-1"> </span><span class="hl-4">state</span><span class="hl-1">.</span><span class="hl-4">memory</span><br/><span class="hl-1">  }));</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">// TRIGGER_EVENT Event Handler - Input Validation</span><br/><span class="hl-4">agent</span><span class="hl-1">.</span><span class="hl-3">on</span><span class="hl-1">(</span><span class="hl-5">&#39;TRIGGER_EVENT&#39;</span><span class="hl-1">, </span><span class="hl-0">async</span><span class="hl-1"> ({ </span><span class="hl-4">triggerName</span><span class="hl-1">, </span><span class="hl-4">triggerBody</span><span class="hl-1"> }) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">// Validate trigger input</span><br/><span class="hl-1">  </span><span class="hl-7">if</span><span class="hl-1"> (!</span><span class="hl-3">isValidInput</span><span class="hl-1">(</span><span class="hl-4">triggerBody</span><span class="hl-1">)) {</span><br/><span class="hl-1">    </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-0">false</span><span class="hl-1">; </span><span class="hl-6">// Disqualify the trigger</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-6">// Business hours check</span><br/><span class="hl-1">  </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-4">triggerName</span><span class="hl-1"> === </span><span class="hl-5">&#39;supportRequest&#39;</span><span class="hl-1"> &amp;&amp; !</span><span class="hl-3">isBusinessHours</span><span class="hl-1">()) {</span><br/><span class="hl-1">    </span><span class="hl-7">return</span><span class="hl-1"> </span><span class="hl-0">false</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-7">return</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">memory:</span><span class="hl-1"> { </span><span class="hl-4">validatedInput:</span><span class="hl-1"> </span><span class="hl-4">triggerBody</span><span class="hl-1"> },</span><br/><span class="hl-1">    </span><span class="hl-4">messages:</span><span class="hl-1"> [</span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">HumanMessage</span><span class="hl-1">(</span><span class="hl-5">&#39;Support request received&#39;</span><span class="hl-1">)],</span><br/><span class="hl-1">    </span><span class="hl-4">sessionId:</span><span class="hl-1"> </span><span class="hl-4">triggerBody</span><span class="hl-1">.</span><span class="hl-4">userId</span><span class="hl-1"> </span><span class="hl-6">// Resume existing session</span><br/><span class="hl-1">  };</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-6">// TRIGGER_EVENT Event Handler - Data Transformation</span><br/><span class="hl-4">agent</span><span class="hl-1">.</span><span class="hl-3">on</span><span class="hl-1">(</span><span class="hl-5">&#39;TRIGGER_EVENT&#39;</span><span class="hl-1">, </span><span class="hl-0">async</span><span class="hl-1"> ({ </span><span class="hl-4">triggerName</span><span class="hl-1">, </span><span class="hl-4">triggerBody</span><span class="hl-1"> }) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-7">if</span><span class="hl-1"> (</span><span class="hl-4">triggerName</span><span class="hl-1"> === </span><span class="hl-5">&#39;emailTrigger&#39;</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-6">// Transform email data into structured format</span><br/><span class="hl-1">    </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">parsedEmail</span><span class="hl-1"> = </span><span class="hl-3">parseEmailContent</span><span class="hl-1">(</span><span class="hl-4">triggerBody</span><span class="hl-1">);</span><br/><br/><span class="hl-1">    </span><span class="hl-7">return</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">memory:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">emailSubject:</span><span class="hl-1"> </span><span class="hl-4">parsedEmail</span><span class="hl-1">.</span><span class="hl-4">subject</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">senderEmail:</span><span class="hl-1"> </span><span class="hl-4">parsedEmail</span><span class="hl-1">.</span><span class="hl-4">from</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">      </span><span class="hl-4">messages:</span><span class="hl-1"> [</span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">HumanMessage</span><span class="hl-1">(</span><span class="hl-4">parsedEmail</span><span class="hl-1">.</span><span class="hl-4">content</span><span class="hl-1">)],</span><br/><span class="hl-1">    };</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/minded-ai/mindedjs/blob/be941b6a386be88ef140b633bb20626ff36a6aa0/src/agent.ts#L667">agent.ts:667</a></li></ul></aside></div></li></ul></section><section class="tsd-panel tsd-member"><h3 class="tsd-anchor-link" id="startvoicesession"><span>start<wbr/>Voice<wbr/>Session</span><a href="#startvoicesession" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class=""><div class="tsd-signature tsd-anchor-link" id="startvoicesession-1"><span class="tsd-kind-call-signature">startVoiceSession</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">params</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">sessionId</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span> <span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">VoiceSession</span><span class="tsd-signature-symbol">&gt;</span><a href="#startvoicesession-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></div><div class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">params</span>: <span class="tsd-signature-symbol">{</span> <span class="tsd-kind-property">sessionId</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span> <span class="tsd-signature-symbol">}</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">VoiceSession</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/minded-ai/mindedjs/blob/be941b6a386be88ef140b633bb20626ff36a6aa0/src/agent.ts#L792">agent.ts:792</a></li></ul></aside></div></li></ul></section></section></details></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Constructors"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Constructors</summary><div><a href="#constructor"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Constructor"><use href="../assets/icons.svg#icon-512"></use></svg><span>constructor</span></a></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Properties"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Properties</summary><div><a href="#compiledgraph"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>compiled<wbr/>Graph</span></a><a href="#config"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>config</span></a><a href="#llm"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>llm</span></a><a href="#mindedconnection"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>minded<wbr/>Connection</span></a><a href="#playbooks"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>playbooks</span></a><a href="#tools"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>tools</span></a><a href="#voicesessions"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Property"><use href="../assets/icons.svg#icon-1024"></use></svg><span>voice<wbr/>Sessions</span></a></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Accessors"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Accessors</summary><div><a href="#piigateway"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Accessor"><use href="../assets/icons.svg#icon-262144"></use></svg><span>pii<wbr/>Gateway</span></a></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Methods"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Methods</summary><div><a href="#getlangraphconfig"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Langraph<wbr/>Config</span></a><a href="#invoke"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>invoke</span></a><a href="#on"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>on</span></a><ul><li><ul><li><a href="#available-event-types"><span>Available <wbr/>Event <wbr/>Types</span></a></li><li><ul><li><a href="#init"><span>INIT</span></a></li><li><a href="#ai_message"><span>AI_<wbr/>MESSAGE</span></a></li><li><a href="#trigger_event"><span>TRIGGER_<wbr/>EVENT</span></a></li></ul></li></ul></li></ul><a href="#startvoicesession"><svg class="tsd-kind-icon" viewBox="0 0 24 24" aria-label="Method"><use href="../assets/icons.svg#icon-2048"></use></svg><span>start<wbr/>Voice<wbr/>Session</span></a></div></details></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">@minded-ai/mindedjs</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
